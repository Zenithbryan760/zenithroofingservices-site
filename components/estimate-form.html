<!-- components/estimate-form.html -->
<!-- Legacy anchor so old links like href="#estimate" still land on the form -->
<div id="estimate" style="position:relative;scroll-margin-top:90px;"></div>

<!-- Component-scoped assets -->
<link rel="stylesheet" href="/css/estimate-form.css">
<!-- IMPORTANT: this runs the form logic when included via the loader -->
<script src="/js/estimate-form.js" defer></script>

<!-- (Only needed if RECAPTCHA is enabled for your Netlify function)
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
-->

<!-- data-redirect lets you change the success destination without editing JS -->
<section class="zenith-card estimate-form-block" data-redirect="/thank-you/" style="max-width:920px;margin:0 auto;">
  <div class="zenith-header" style="text-align:center;margin-bottom:1.25rem;">
    <h1 class="form-title" style="margin:.25rem 0 0;color:#072e59;font-weight:800;font-size:1.4rem;letter-spacing:.3px;">
      Request a Free Estimate
    </h1>
    <p class="form-subtitle service-area" style="color:#64748b;margin:.35rem 0 0;">
      Roofing • 5"&nbsp;/&nbsp;6" Seamless Aluminum Gutters • Gutter Guards
    </p>
  </div>

  <!-- Invisible reCAPTCHA container (optional) -->
  <div id="recaptcha-container"
       class="g-recaptcha"
       data-sitekey=""  <!-- paste your site key if using reCAPTCHA -->
       data-size="invisible"
       style="display:none;"></div>

  <form id="estimate-form" method="POST" novalidate>
    <!-- Combined name (fallback if you ever add it) -->
    <input type="text" name="name" autocomplete="name" style="display:none" aria-hidden="true"/>

    <!-- Row 1 -->
    <div class="form-row">
      <div class="form-group form-col-6">
        <label for="firstName" class="sr-only">First Name*</label>
        <input type="text" id="firstName" name="first_name" placeholder="First Name*" autocomplete="given-name" required />
      </div>
      <div class="form-group form-col-6">
        <label for="lastName" class="sr-only">Last Name*</label>
        <input type="text" id="lastName" name="last_name" placeholder="Last Name*" autocomplete="family-name" required />
      </div>
    </div>

    <!-- Row 2 -->
    <div class="form-row">
      <div class="form-group form-col-6">
        <label for="phone" class="sr-only">Phone Number*</label>
        <input type="tel" id="phone" name="phone" placeholder="Phone Number*" inputmode="tel"
               pattern="[\d\s\-\(\)\.]{10,}" autocomplete="tel" required />
      </div>
      <div class="form-group form-col-6">
        <label for="email" class="sr-only">Email Address*</label>
        <input type="email" id="email" name="email" placeholder="Email Address*" autocomplete="email" required />
      </div>
    </div>

    <!-- Row 3 -->
    <div class="form-row">
      <div class="form-group">
        <label for="streetAddress" class="sr-only">Street Address*</label>
        <input type="text" id="streetAddress" name="street_address" placeholder="Street Address*" autocomplete="address-line1" required />
      </div>
    </div>

    <!-- Row 4 -->
    <div class="form-row">
      <div class="form-group form-col-4">
        <label for="city" class="sr-only">City*</label>
        <input type="text" id="city" name="city" placeholder="City*" autocomplete="address-level2" required />
      </div>
      <div class="form-group form-col-4">
        <label for="state" class="sr-only">State*</label>
        <input type="text" id="state" name="state" value="CA" placeholder="State*" readonly />
      </div>
      <div class="form-group form-col-4">
        <label for="zip" class="sr-only">ZIP Code*</label>
        <input type="text" id="zip" name="zip" placeholder="ZIP Code*" inputmode="numeric" pattern="\d{5}" autocomplete="postal-code" required />
      </div>
    </div>

    <!-- Row 5 -->
    <div class="form-row">
      <div class="form-group form-col-4">
        <label for="serviceType" class="sr-only">Service Type*</label>
        <select id="serviceType" name="service_type" required>
          <option value="" selected disabled hidden>Service Type*</option>
          <option>Gutters: 5" Seamless Aluminum</option>
          <option>Gutters: 6" Seamless Aluminum</option>
          <option>Gutter Guards</option>
          <option>Roof Repair</option>
          <option>Roof Replacement</option>
          <option>Inspection / Tune-Up</option>
          <option>Other</option>
        </select>
      </div>

      <div class="form-group form-col-4">
        <label for="referral" class="sr-only">How did you hear about us?</label>
        <select id="referral" name="referral_source">
          <option value="" selected hidden>How did you hear about us?</option>
          <option>Google</option>
          <option>Yelp</option>
          <option>Angi</option>
          <option>Social Media</option>
          <option>Referral</option>
          <option>Other</option>
        </select>
      </div>

      <div class="form-group form-col-4">
        <label for="photos" class="sr-only">Upload Photos</label>
        <input type="file" id="photos" name="photos" accept="image/*" multiple />
      </div>
    </div>

    <!-- Row 6 -->
    <div class="form-row">
      <div class="form-group">
        <label for="description" class="sr-only">Brief Description*</label>
        <textarea id="description" name="description" rows="4"
                  placeholder='Brief Description* — e.g., "Replace with 6&quot; K-style in bronze, add guards on rear run"'
                  required></textarea>
      </div>
    </div>

    <!-- Error summary (JS fills) -->
    <div class="form-error-summary" aria-live="polite" hidden></div>

    <!-- Submit -->
    <div class="form-row">
      <button type="submit" class="zenith-btn">Request Free Estimate</button>
    </div>

    <p class="form-disclaimer">
      <em>*Free estimates are not available for real estate transactions. For roof certifications or transaction inspections, please see our <a href="/#real-estate">Real Estate Services</a>.</em>
    </p>
  </form>
</section>
